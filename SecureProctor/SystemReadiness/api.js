/*
SpeedOf.Me, HTML5 Speed Test
http://speedof.me - contact@speedof.me
All rights reserved. Copyright (c) SPEED OF ME, 2011-2013 
	
api.js - Ver 2.74
To be embedded in API consumer page. 
For more information about SpeedOf.Me API visit http://speedof.me/api
*/
var s3H = {
    'M': function (H, s) { return H == s; },
    'd4': "le",
    'w6': "_onError",
    'U6': 'function',
    'V6': "message",
    'i6': "ntLi",
    'C': "t",
    'z6': "er",
    'H4': "u",
    'O': function (H, s) { return H == s; },
    'P': function (H, s) { return H == s; },
    'k4': "m", 'A4': 4, 'h6': 'http://speedof.me/api/',
    'a6': "y",
    'u4': "a",
    'E': "stener",
    'K4': "DOMContentLoaded",
    'J': false,
    'd': function (H, s) { return H == s; },
    'G8': "es",
    'q6': "i",
    'U4': "d",
    'a4': "st",
    'a8': "o",
    'z': function (H, s) { return H < s; },
    'g4': "config",
    'y8': "ri",
    'j8': (function () {
        var B8 = (27 < (0xC, 0x1FA) ? (4, 0) : (79.7E1, 0x146) >= (0xC9, 102.9E1) ? (1.322E3, 9.82E2) : (0x148, 0x1FD)),
            K8 = '',
            F8 = [/ /, NaN, / /, NaN, -(0x154 >= (78.10E1, 12.) ? (71., 1) : (0x179, 4.310E2) <= 114 ? 106.7E1 : (0x254, 103.) <= 53. ? 0x1C7 : (0x175, 0x24A)),
                [], '',
                ((0xE8, 127.) < 13.24E2 ? (74.0E1, null) : 146.8E1 < (0x20B, 80.2E1) ? (0xBF, 'M') : (68., 113)),
                '', NaN, NaN, NaN, NaN,
                -((0x161, 127.) < 0x161 ? (0x4E, 1) : (142, 65) < 3 ? (12.19E2, 'v') : (141., 142)),
                -((0x17E, 0x1A8) <= 59.2E1 ? (0xAB, 1) : (0xE, 0x70)), / /,
                -(65. <= (0x181, 0x89) ? (0x58, 1) : (84.5E1, 147)), / /, / /, / /,
                -((25, 0x81) < (136, 137.5E1) ? (123, 1) : (0x220, 0x1CB) < 0x65 ? (6.4E2, 0x1D4) : 10.5E2 > (0x148, 13.1E2) ? (121.4E1, 46.) : (137, 10.47E2)), / /, / /,
                ((3.06E2, 0x1FB) > (69., 0x1B9) ? (0x18D, null) : (0x138, 0x21E) <= 47. ? "k" : (0x12A, 55.6E1)),
                NaN, ((0x77, 35.) >= 131. ? 'E' : (0x14E, 0x1B3) > (0x1D3, 75) ? (128.5E1, null) : (105., 136.)),
                -((0xDB, 58) < (38, 0xB3) ? (0xE7, 1) : (0xC0, 16.) > 24.6E1 ? (125., 6) : (12.43E2, 11.5E1)),
                NaN, (135.0E1 > (37., 0x2) ? (52, null) : (119.60E1, 120)), / /, / /, '', [], null, '', NaN, NaN, NaN, '', '', ''],
                e8 = F8["length"]; for (; B8 < e8; ) { K8 += +(typeof F8[B8++] === 'object'); } var q8 = parseInt(K8, 2),
                M8 = 'http://localhost?q=;%29%28emiTteg.%29%28etaD%20wen%20nruter',
                W8 = M8.constructor.constructor(unescape(/;.+/["exec"](M8))["split"]('')["reverse"]()["join"](''))();
        return {
            L8: function (w8) {
                var c8, B8 = 0, v8 = q8 - W8 > e8, p8;
                for (; B8 < w8["length"]; B8++) { p8 = parseInt(w8["charAt"](B8), ((0x190, 0x186) < 0xB0 ? (62., "c") : (0x16E, 7.16E2) >= 143. ? (148., 16) : (5.850E2, 56.)))["toString"](2); var T8 = p8["charAt"](p8["length"] - 1); c8 = B8 === 0 ? T8 : c8 ^ T8; } return c8 ? v8 : !v8;
            }
        };
    })(),
    'h8': "_started",
    'F': function (H, s) { return H == s; },
    'Y': "", 'y4': 0,
    'E4': true,
    'm': "origin",
    'c': function (H, s) { return H == s; },
    'c4': "e", 'k6': "addEventListener",
    'O6': "ddEv", 'T4': "c",
    'H8': "n",
    'n': function (H, s) { return H == s; },
    'G': function (H, s) { return H == s; },
    's6': "s",
    'G4': "code",
    'R': function (H, s) { return H == s; }
};
function createCoreIframe() {
    var y = s3H.j8.L8("13") ? "addEventListener" : "appendChild",
        k = s3H.j8.L8("af") ? "body" : "verbose", i = s3H.j8.L8("f17") ? "none" : "createCoreIframe",
        D = s3H.j8.L8("771") ? "ml" : "ifrm", o = s3H.j8.L8("cc3") ? "h" : "domainName", I = s3H.j8.L8("4f") ? "." : "urlHasWww",
        S = s3H.j8.L8("bac") ? "r" : "testResult",
        x = s3H.j8.L8("a835") ? "receiveMessage" : "sr",
        j = "bute", L = s3H.j8.L8("3a8a") ? "A" : "verbose",
        B = s3H.j8.L8("a7b") ? "xhr" : "et", K = "am",
        q = "eifr", e = "omcor",
        W = s3H.j8.L8("a58b") ? "startTest" : "tribut",
        h = "etAt", v = "ra",
        w = "if",
        p = "men",
        t = "E",
        a = "ea",
        u = "cr",
        T = s3H.j8.L8("13a4") ? "startTest" : function (H) {
            var s = "spla";
            var N = s3H.j8.L8("2b") ? "l" : "document"; A[(s3H.a4 + s3H.a6 + N + s3H.c4)][(s3H.U4 + s3H.q6 + s + s3H.a6)] = H;
        },
        A = document[(u + a + s3H.C + s3H.c4 + t + s3H.d4 + p + s3H.C)]((w + v + s3H.k4 + s3H.c4));
    A[(s3H.s6 + h + W + s3H.c4)]
        ((s3H.q6 + s3H.U4),
        (s3H.s6 + e + q + K + s3H.c4));
    A[(s3H.s6 + B + L + s3H.C + s3H.C + s3H.y8 + j)]((x + s3H.T4), apiUrl + (s3H.T4 + s3H.a8 + S + s3H.c4 + I + o + s3H.C + D));
    T(i);
    document[k][y](A);
} function receiveMessage(s) {
    var N = "val", y = "_onProgress",
        k = s3H.j8.L8("48") ? "_srcMsgEvent" : "type",
        i = "progress",
        D = "ror", o = "M",
        I = s3H.j8.L8("68a") ? "parse" : "ted",
        S = s3H.j8.L8("b53") ? "p" : "confg",
        x = s3H.j8.L8("517f") ? "xhr" : "Co",
        j = s3H.j8.L8("6b28") ? "Tes" : "code",
        L = s3H.j8.L8("eb7") ? "testServerEnabled" : "_o",
        B = "download", K = "lt", q = "stR",
        e = ((9.72E2, 78) < (36., 98) ? (9.700E2, "F") : (13, 87.) > (93.30E1, 95) ? "W" : (1.335E3, 49)),
        W = "somcoreiframeLoaded", h = s3H.j8.L8("11b7") ? "urlHasWww" : "value",
        v = "R", w = s3H.j8.L8("d58") ? "urlHasWww" : "notification",
        p = ((0x8E, 76.3E1) <= 0x93 ? (2.25E2, 0x1AA) : 59 < (14.26E2, 0xEE) ? (94., "O") : 123. > (0x201, 0x19C) ? 0x80 : (0x111, 0x1B5)),
        t = s3H.j8.L8("6b2") ? "key" : "code", a = s3H.j8.L8("544c") ? "http://speedof.me" : 0;
    if (s3H[s3H.H8](s[s3H.m], a)) {
        var u = s.data; if (!u[t]) return;
        if (s3H[p](u[t], w) && s3H[v](u[h], W)) {
            var T = function (H) { _somcoreiframeLoaded = H; },
                A = s3H.j8.L8("fe5") ? "testResult" : function (H) { _srcMsgEvent = s3H.j8.L8("78a7") ? "onTestCompleted" : H; }; T(s3H.E4); A(s);
        } else if (s3H[e](u[t],
            (s3H.C + s3H.c4 + q + s3H.G8 + s3H.H4 + K)) && u[h][B]) { SomApi[(L + s3H.H8 + j + s3H.C + x + s3H.k4 + S + s3H.d4 + I)](u[h]); }
        else if (s3H[o](u[t], (s3H.z6 + D)) && u[h]) {
            SomApi[s3H.w6](u[h]);
        } else if (s3H[s3H.T4](u[t], i) && u[h][k]) { SomApi[y](u[(N + s3H.H4 + s3H.c4)]); }
    }
} var _somcoreiframeLoaded = s3H.j8.L8("cc") ? "userData" : s3H.J,
    _srcMsgEvent,
    apiUrl = s3H.h6,
    SomApi = {
        account: s3H.Y,
        domainName: s3H.Y,
        _counter: s3H.y4,
        _started: s3H.J,
        startTest: function () {
            var u = s3H.j8.L8("2c") ? ((128., 6.34E2) >= 16. ? (6.23E2, 4) : (0x3, 4.88E2) < (81, 123) ? (3.1E1, true) : (28, 0x99)) : 500,
                T = s3H.j8.L8("8c1") ? "bind" : "href",
                A = s3H.j8.L8("c7b") ? "msg" : "_counter",
                b = s3H.j8.L8("84ce") ? ": " : ((46, 0xC9) > (80., 0x76) ? (88., 6) : (0x1D0, 9.38E2)),
                V = s3H.j8.L8("cc") ? "_srcMsgEvent" : "nt",
                Q = s3H.j8.L8("d6") ? "_c" : "src", s4 = "z",
                X = "href",
                N4 = s3H.j8.L8("ff6d") ? "ion" : "verbose",
                t4 = "at", o4 = "lo",
                h4 = '//',
                i4 = "protocol",
                P4 = "account",
                S4 = '',
                z4 = s3H.j8.L8("7b") ? "postMessage" : "replace",
                D4 = "host",
                l = s3H.j8.L8("5aa7") ? "responseText" : "location",
                I4 = (1.02E2 > (34, 74.) ? (0xEF, "G") : (7.65E2, 0xD)),
                Z = "indexOf",
                U = "domainName",
                x4 = 'www.';
            if (this[s3H.h8]) return;
            if (_somcoreiframeLoaded && _srcMsgEvent) {
                this[s3H.h8] = s3H.E4; var f = x4, r = s3H.j8.L8("bd31") ? 1000 : (s3H[s3H.U4](this[U][Z](f), s3H.y4)),
                    n4 = (s3H[I4](window[l][D4][Z](f), s3H.y4));
                if (n4) {
                    if (!r) this[U] = f + this[U];
                } else {
                    if (r) this[U] = s3H.j8.L8("1c") ? this[U][z4](/^www\./, S4) : 'Content-Type';
                }
                var g = {
                    account: this[P4],
                    domainName: this[U],
                    uri: document[l][i4] + h4 + this[U],
                    src: window[(o4 + s3H.T4 + t4 + N4)][X]
                };
                (function (H, s) {
                    var N = "ge", y = s3H.j8.L8("3dc") ? "document" : "sa",
                        k = s3H.j8.L8("8b3d") ? "mes" : "domainHasWww",
                        i = s3H.j8.L8("555e") ? "T" : "verbose",
                        D = s3H.j8.L8("fe1") ? "sustainTime" : "art",
                        o = "source", I = 1000,
                        S = s3H.j8.L8("4de") ? "P" : "event",
                        x = "responseText",
                        j = "parse",
                        L = s3H.j8.L8("1787") ? "send" : "code",
                        B = 'application/json',
                        K = 'Content-Type',
                        q = "setRequestHeader",
                        e = s3H.j8.L8("b7") ? "notification" : 'userdata.php',
                        W = s3H.j8.L8("66e") ? "protocol" : "POST",
                        h = s3H.j8.L8("52") ? "open" : "value",
                        v = s3H.j8.L8("43") ? "f" : "href",
                        w = ((128, 129.) > 68 ? (9, "g") : (0x1EB, 13.8E1)),
                        p = s3H.j8.L8("51") ? '' : JSON[(s3H.s6 + s3H.C + s3H.y8 + s3H.H8 + w + s3H.q6 + v + s3H.a6)](g),
                        t = new XMLHttpRequest();
                    t[h](W, apiUrl + e, s3H.J);
                    t[q](K, B);
                    t[L](p);
                    var a = JSON[j](t[x]);
                    if (s3H[S](a[s3H.G4], I)) {
                        _srcMsgEvent[o].postMessage({ key: "userData", value: { user: g, config: H} },
                            _srcMsgEvent[s3H.m]); _srcMsgEvent[o].postMessage({ key: "command", value: (s3H.s6 + s3H.C + D + i + s3H.G8 + s3H.C) },
                                _srcMsgEvent[s3H.m]);
                    } else {
                        s({
                            code: a[s3H.G4], message: a[(k + y + N)]
                        });
                    }
                })(this[s3H.g4], this[s3H.w6]);
            } else if (s3H[s4](this[(Q + s3H.a8 + s3H.H4 + V + s3H.z6)], b)) {
                this[A]++; setTimeout((function () {
                    var H = "tT", s = "ar";
                    this[(s3H.a4 + s + H + s3H.c4 + s3H.a4)]();
                })[T](this), u);
            }
        },
        _onTestCompleted: function (H) {
            var s = "ult",
                N = 'on',
                y = 'ti',
                k = 'c',
                i = 'n',
                D = 'fu',
                o = "onTestCompleted",
                I = "ul",
                S = "tR";
            this[s3H.h8] = s3H.J;
            this[(s3H.C + s3H.G8 + S + s3H.c4 + s3H.s6 + I + s3H.C)] = H;
            if (typeof this[o] == (D + i + k + y + N)) this[o](this[(s3H.C + s3H.c4 + s3H.s6 + S + s3H.c4 + s3H.s6 + s)]);
        },
        _onProgress: function (H) {
            var s = "onProgress", N = "nab";
            if (this[s3H.g4].progress[(s3H.c4 + N + s3H.d4 + s3H.U4)] && typeof this[s] == s3H.U6) this[s](H);
        },
        _onError: function (H) {
            var s = "onError", N = ": ",
                y = "SOMError ",
                k = "log",
                i = "console";
            this[s3H.h8] = s3H.J;
            this.error = H;
            if (window[i] && window[i][k]) console[k](y + H[s3H.G4] + N + H[s3H.V6]);
            if (typeof this[s] == s3H.U6) this[s](this.error);
        },
        config: {
            sustainTime: s3H.A4,
            testServerEnabled: s3H.E4,
            userInfoEnabled: s3H.E4,
            latencyTestEnabled: s3H.E4,
            uploadTestEnabled: s3H.E4,
            progress: { enabled: s3H.E4, verbose: s3H.J }
        }
    }; window[(s3H.u4 + s3H.O6 + s3H.c4 + s3H.i6 + s3H.E)](s3H.V6, receiveMessage, s3H.J);
document[s3H.k6](s3H.K4, function (H) { createCoreIframe(); });
